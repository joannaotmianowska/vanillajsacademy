<!DOCTYPE html>
<html>
<head>
	<title>Helper Library</title>

	<style type="text/css">
		body {
			margin: 1em auto;
			max-width: 40em;
			width: 88%;
		}

		.btn-blue {
			background-color: #0088cc;
			color: #ffffff;
		}

		.btn-purple {
			background-color: rebeccapurple;
			color: #ffffff;
		}
	</style>
</head>
<body>

	<h1>Helper Library</h1>

	<p>All of the fun here happens in the console.</p>

	<p>
		<button class="btn-blue" id="button-1">Button 1</button>
		<button class="btn-blue" id="button-2">Button 2</button>
		<button class="btn-blue" id="button-3">Button 3</button>
	</p>

	<script>
        /*
            TO DO: Create a helper library with public methods you can use to:

            - convert a NodeList to an array.
            - get the first matching element in the DOM.
            - get all matching elements in the DOM as an array.
            - add a class to all elements in an array.
            - remove a class from all elements in an array.
        */

        const helper = (function () {

            const methods = {};

            const convertNodeListToArray = function(nodeList) {
                return Array.prototype.slice.call(nodeList);
            }

            const queryFirstElBySelector = function(selector) {
                return document.querySelector(selector);
            }

            const queryAllElBySelectorAndSaveAsArray = function(selector) {
                return convertNodeListToArray(document.querySelectorAll(selector));
            }

            /**
             * Convert node list into an array
             * @param  {NodeList} NodeList that has to be converted into Array
             * @return {Array} Array of NodeList elements
             */
            methods.getArrayFromNodeList = function(nodeList) {
                return convertNodeListToArray(nodeList);
            }

            /**
             * Get first element that matches given CSS selector
             * @param  {String} selector
             * @return {Object} Object matching given selector
             */
            methods.getFirstMatchingElementBySelector = function (selector) {
                return queryFirstElBySelector(selector);
            };

            /**
             * Get all elements that match given CSS selector and save them into array
             * @param  {String} selector
             * @return {Array} Array of elements matching given selector
             */
            methods.getArrayOfAllMatchingElementsBySelector = function (selector) {
                return queryAllElBySelectorAndSaveAsArray(selector);
            };

            /**
             * Add CSS class to all elements in given array
             * @param  {Array} Array of elements that should have new class
             * @param {String} class that will be added to elements
             */
            methods.addClassToAllElementsInArray = function(array, className) {
                array.forEach(el => {
                    el.classList.add(className);
                });
            }


            /**
             * Remove CSS class from all elements in given array
             * @param  {Array} Array of elements that should have class removed
             * @param {String} class that will be removed from elements
             */
             methods.removeClassFromAllElementsInArray = function(array, className) {
                array.forEach(el => {
                    el.classList.remove(className);
                });
            }

            return methods;

        })();

        // Examples of usage
        const button = helper.getFirstMatchingElementBySelector('button');
        const buttonsArray = helper.getArrayOfAllMatchingElementsBySelector('button');
        console.log(typeof(button));
        console.log(buttonsArray);

        const examplaryNodeList = document.querySelectorAll('button');
        const arrayFromNodeList = helper.getArrayFromNodeList(examplaryNodeList);
        console.log(arrayFromNodeList);

        helper.addClassToAllElementsInArray(buttonsArray, 'btn-purple');
        console.log(buttonsArray[0].classList);

        helper.removeClassFromAllElementsInArray(buttonsArray, 'btn-purple');
        console.log(buttonsArray[0].classList);
	</script>
</body>
</html>